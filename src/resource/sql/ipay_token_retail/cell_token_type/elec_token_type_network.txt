

                         View "qamps.cell_token_type_network"
         Column         |          Type          | Modifiers | Storage  | Description 
------------------------+------------------------+-----------+----------+-------------
 network_id             | bigint                 |           | plain    | 
 network_name           | character varying(255) |           | extended | 
 network_description    | character varying(255) |           | extended | 
 network_enabled        | boolean                |           | plain    | 
 cell_token_type_id     | bigint                 |           | plain    | 
 token_type_name        | character varying(255) |           | extended | 
 token_type_description | character varying(255) |           | extended | 
 units                  | double precision       |           | plain    | 
 window_                | double precision       |           | plain    | 
 amount                 | double precision       |           | plain    | 
 tax                    | double precision       |           | plain    | 
 cell_tk_type_enabled   | boolean                |           | plain    | 
 our_sale_amount        | double precision       |           | plain    | 
 our_sale_tax           | double precision       |           | plain    | 
 is_test                | boolean                |           | plain    | 
 our_sale_disc_percent  | double precision       |           | plain    | 
 our_sale_disc_absolute | double precision       |           | plain    | 
 our_sale_kw_discount   | double precision       |           | plain    | 
 grouping_              | character(1)           |           | extended | 
 popularity_index       | integer                |           | plain    | 
 customer_message       | character varying(255) |           | extended | 
View definition:
 SELECT network.network_id, network.network_name, network.network_description, network.enabled AS network_enabled, cell_token_type.cell_token_type_id, cell_token_type.token_type_name, cell_token_type.token_type_description, cell_token_type.units, cell_token_type.window_, cell_token_type.amount, cell_token_type.tax, cell_token_type.enabled AS cell_tk_type_enabled, cell_token_type.our_sale_amount, cell_token_type.our_sale_tax, cell_token_type.is_test, cell_token_type.our_sale_disc_percent, cell_token_type.our_sale_disc_absolute, cell_token_type.our_sale_kw_discount, cell_token_type.grouping_, cell_token_type.popularity_index, cell_token_type.customer_message
   FROM cell_token_type, network
  WHERE cell_token_type.network_id = network.network_id;




SELECT  amount, cell_tk_type_enabled, cell_token_type_id,  grouping_, is_test, 
network_description,  network_enabled, network_id, network_name,  
our_sale_amount, our_sale_disc_absolute,  our_sale_disc_percent, our_sale_tax,  popularity_index, tax, 
token_type_description,  token_type_name, units, window_, our_sale_kw_discount 
FROM cell_token_type_network 
WHERE token_type_name = ? 
AND cell_tk_type_enabled = 1 
AND network_enabled = 1



public class IpayXml_RetailElecTranslator implements Component, Processor {


    protected boolean processVendRes(Element res, Message msg, LoggedOnOpStatusViewData loggedonOpStatusViewData, StopWatch stopWatch, boolean isPartOfVendLastResOrVendRevRes) throws SQLException, DbException {

                String util = res.getChildText("util");


                    if(util != null) {
                        cellTokenTypeNetwork.selectEnabledTokenTypesByUtilityNetwork(connection, util);
                    }


    public void selectEnabledTokenTypesByUtilityNetwork(Connection theConnection, String theNetworkname) throws SQLException {
        mySelectStatement = theConnection.prepareStatement("SELECT  amount, cell_tk_type_enabled, cell_token_type_id,  grouping_, is_test, network_description,  network_enabled, network_id, network_name,  our_sale_amount, our_sale_disc_absolute,  our_sale_disc_percent, our_sale_tax,  popularity_index, tax, token_type_description,  token_type_name, units, window_, our_sale_kw_discount FROM cell_token_type_network WHERE cell_tk_type_enabled = 1 AND network_enabled = 1 AND lower(network_name) = ?");





