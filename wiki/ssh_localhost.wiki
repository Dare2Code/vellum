
= Heading =

Using ssh localhost is arguably better than su or sudo for that matter, for the same reason that 
ssh keys is better than passwords i.e. because passwords are susceptible to 
bruce force attack.

Also with agent forwarding its more convenient than entering a password. 

<tt>AllowUsers</tt>
<pre>
[root@server etc]# cat /etc/ssh/sshd_config | grep AllowUsers
</pre>

<tt>ForwardAgent</tt>
<pre>
[evanx@server ~]$ cat .ssh/config
ForwardAgent yes
</pre>

<tt>authorized_keys</tt>
<pre>
[other@server ~]$ cat .ssh/authorized_keys
from="localhost" ssh-rsa 
AAAAB3NzaC1yc2EAAAADAQABAAABAQDAaIojgNHnHBGnuDdpo9s...
evanx@evanx
</pre>

<tt>ssh localhost</tt>
<pre>
[evanx@server ~]$ ssh other@localhost
Last login: Mon Apr 30 13:03:10 2012 from localhost
[other@server ~]$
</pre>

<tt>/var/log/secure</tt>
<pre>
Apr 30 13:05:47 server sshd[30086]: debug1: matching key found: file 
/home/other/.ssh/authorized_keys, line 2
Apr 30 13:05:47 server sshd[30086]: Found matching RSA key: 
70:bc:ce:96:c7:7f:9d:bb:1e:c1:a0:45:ce:c3:9b:08
</pre>

Since the key of course is tied to a person, so we have auditing. 
<pre>
[other@server ~]$ ssh-keygen -lf .ssh/authorized_keys
2048 70:bc:ce:96:c7:7f:9d:bb:1e:c1:a0:45:ce:c3:9b:08  evanx@evanx (RSA)
</pre>

